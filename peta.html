<!DOCTYPE html>
<html lang="id">
  <head>
    <!-- 
      [META DATA]
      Standar viewport untuk tampilan responsif.
    -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SIMATSU - Peta Sebaran Tsunami</title>

    <!-- [FONTS] Google Fonts Poppins -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- [ICONS] Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- [LIBRARY] Leaflet CSS (Wajib untuk Peta) -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css"
    />

    <style>
      /* =================================================================
         BAGIAN CSS (MODERN THEME)
         Konsisten dengan halaman Data, Sejarah, Dampak, Mitigasi, Video.
      ================================================================= */

      :root {
        /* Warna Utama */
        --primary-dark: #005f99;
        --primary-main: #0088cc;
        --primary-light: #e0f7fa;
        --accent: #ffd700;

        /* Tipografi & Background */
        --text-dark: #2c3e50;
        --text-grey: #607d8b;
        --bg-body: #f4f9fc;

        /* Bayangan */
        --shadow-card: 0 4px 12px rgba(0, 0, 0, 0.05);
        --shadow-hover: 0 15px 30px rgba(0, 0, 0, 0.1);

        /* Layout */
        --sidebar-width: 260px;
        --header-height: 80px;
        --stats-bar-height: 50px;
        --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: "Poppins", sans-serif;
        background-color: var(--bg-body);
        color: var(--text-dark);
        overflow-x: hidden;
      }

      /* --- 1. SIDEBAR STYLE --- */
      .sidebar {
        position: fixed;
        left: 0;
        top: 0;
        bottom: 0;
        width: var(--sidebar-width);
        background: white;
        box-shadow: 2px 0 15px rgba(0, 0, 0, 0.05);
        z-index: 1002;
        display: flex;
        flex-direction: column;
        transition: var(--transition);
      }
      .sidebar-logo {
        height: var(--header-height);
        display: flex;
        align-items: center;
        padding: 0 25px;
        border-bottom: 1px solid #f0f0f0;
      }
      .logo-img {
        height: 40px;
        width: auto;
        margin-right: 12px;
      }
      .logo-text {
        font-size: 24px;
        font-weight: 800;
        color: var(--primary-main);
        letter-spacing: -1px;
      }
      .sidebar-menu {
        padding: 20px 15px;
        overflow-y: auto;
        flex: 1;
      }

      .menu-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px 18px;
        color: var(--text-grey);
        text-decoration: none;
        border-radius: 10px;
        margin-bottom: 5px;
        transition: var(--transition);
        font-weight: 500;
        font-size: 14px;
        cursor: pointer;
      }
      .menu-item i {
        width: 24px;
        text-align: center;
        color: #b0bec5;
        font-size: 18px;
        transition: var(--transition);
      }
      .menu-item:hover,
      .menu-item.active {
        background-color: var(--primary-light);
        color: var(--primary-main);
      }
      .menu-item:hover i,
      .menu-item.active i {
        color: var(--primary-main);
      }
      .menu-item.active {
        font-weight: 600;
        border-left: 4px solid var(--primary-main);
      }

      /* --- 2. HEADER STYLE --- */
      .header {
        position: fixed;
        top: 0;
        right: 0;
        left: var(--sidebar-width);
        width: calc(100% - var(--sidebar-width));
        height: var(--header-height);
        background: linear-gradient(
          135deg,
          var(--primary-dark),
          var(--primary-main)
        );
        color: white;
        z-index: 1000;
        display: flex;
        align-items: center;
        padding: 0 30px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        transition: var(--transition);
      }
      .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
        width: 100%;
      }
      .header-left {
        display: flex;
        align-items: center;
        gap: 20px;
      }
      .header-title h1 {
        font-size: 20px;
        font-weight: 700;
        margin-bottom: 2px;
      }
      .header-title p {
        font-size: 12px;
        opacity: 0.9;
        font-weight: 300;
        letter-spacing: 0.5px;
      }

      .btn-login {
        background: rgba(255, 255, 255, 0.2);
        color: white;
        border: 1px solid rgba(255, 255, 255, 0.4);
        padding: 8px 20px;
        border-radius: 50px;
        font-weight: 500;
        font-size: 13px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 8px;
        text-decoration: none;
        transition: var(--transition);
      }
      .btn-login:hover {
        background: white;
        color: var(--primary-dark);
        transform: translateY(-2px);
      }

      /* --- 3. STATS BAR STYLE --- */
      .stats-bar {
        position: fixed;
        top: var(--header-height);
        right: 0;
        left: var(--sidebar-width);
        width: calc(100% - var(--sidebar-width));
        height: var(--stats-bar-height);
        background: white;
        display: flex;
        align-items: center;
        padding: 0 30px;
        border-bottom: 1px solid #edf2f7;
        z-index: 990;
        transition: var(--transition);
      }
      .stat-mini-item {
        margin-right: 30px;
        font-size: 13px;
        color: var(--text-grey);
        font-weight: 500;
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .stat-mini-item i {
        color: var(--primary-main);
      }
      .stat-mini-item span {
        font-weight: 700;
        color: var(--text-dark);
      }

      /* --- 4. MAIN CONTENT STYLE --- */
      .main-content {
        margin-left: var(--sidebar-width);
        margin-top: calc(var(--header-height) + var(--stats-bar-height));
        padding: 30px 40px;
        min-height: calc(100vh - 130px);
        transition: var(--transition);
      }

      /* --- 5. PAGE SPECIFIC (PETA) --- */

      /* Judul */
      .page-title {
        font-size: 24px;
        font-weight: 700;
        color: var(--primary-dark);
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 12px;
      }

      /* Deskripsi Intro */
      .intro-text {
        color: #555;
        line-height: 1.8;
        margin-bottom: 30px;
        background: white;
        padding: 20px;
        border-radius: 10px;
        border-left: 4px solid var(--accent);
        box-shadow: var(--shadow-card);
      }

      /* Container Kartu Peta (Dekorasi Tambahan) */
      .map-card {
        background: white;
        border-radius: 16px;
        padding: 10px; /* Padding kecil agar peta seperti dibingkai */
        box-shadow: var(--shadow-card);
        border: 1px solid #e0e0e0;
      }

      /* Style Peta Leaflet */
      #map {
        height: 550px;
        width: 100%;
        border-radius: 12px; /* Sudut membulat pada peta */
        z-index: 1; /* Pastikan di bawah header */
      }

      /* Responsive Mobile */
      .mobile-toggle {
        display: none;
        font-size: 24px;
        margin-right: 15px;
        cursor: pointer;
      }
      @media (max-width: 992px) {
        .sidebar {
          transform: translateX(-100%);
        }
        .sidebar.active {
          transform: translateX(0);
        }
        .header {
          left: 0;
          width: 100%;
          padding-left: 20px;
        }
        .stats-bar {
          left: 0;
          width: 100%;
        }
        .main-content {
          margin-left: 0;
          padding: 20px;
        }
        .mobile-toggle {
          display: block;
        }
      }
    </style>
  </head>

  <body>
    <!-- [SIDEBAR] Menu Kiri -->
    <div class="sidebar" id="sidebar">
      <div class="sidebar-logo">
        <img
          src="assets/logosimbb.png"
          alt="Logo"
          class="logo-img"
          onerror="this.style.display='none'; this.nextElementSibling.style.display='block'"
        />
        <div class="logo-text">SIMATSU</div>
      </div>

      <div class="sidebar-menu">
        <a class="menu-item" href="simb.html">
          <i class="fa-solid fa-house"></i> Dashboard
        </a>
        <a class="menu-item" href="data.php">
          <i class="fa-solid fa-chart-simple"></i> Data Tsunami
        </a>
        <a class="menu-item" href="sejarah.html">
          <i class="fa-solid fa-clock-rotate-left"></i> Sejarah Kejadian
        </a>
        <a class="menu-item" href="penyebab.html">
          <i class="fa-solid fa-bolt"></i> Penyebab
        </a>
        <a class="menu-item" href="dampak.html">
          <i class="fa-solid fa-triangle-exclamation"></i> Dampak
        </a>
        <a class="menu-item" href="mitigasi.html">
          <i class="fa-solid fa-compass"></i> Mitigasi
        </a>
        <a class="menu-item" href="videoedukasi.html">
          <i class="fa-solid fa-video"></i> Video Edukasi
        </a>
        <!-- [ACTIVE] Halaman Saat Ini -->
        <a class="menu-item active" href="peta.html">
          <i class="fa-solid fa-map-location-dot"></i> Peta Sebaran
        </a>
      </div>
    </div>

    <!-- [HEADER] Menu Atas -->
    <div class="header">
      <div class="header-content">
        <div class="header-left">
          <i
            class="fa-solid fa-bars mobile-toggle"
            onclick="document.getElementById('sidebar').classList.toggle('active')"
          ></i>
          <div class="header-title">
            <h1>Sistem Informasi Manajemen Tsunami</h1>
            <p>Mengenali, Mencegah, dan Mengurangi Risiko Bencana</p>
          </div>
        </div>
        <a href="loginadmin.php" class="btn-login">
          <i class="fa-solid fa-user-lock"></i> Login Admin
        </a>
      </div>
    </div>

    <!-- [STATS BAR] -->
    <div class="stats-bar">
      <div class="stat-mini-item">
        <i class="fa-solid fa-users"></i>
        Pengunjung: <span>12,547</span>
      </div>
      <div class="stat-mini-item">
        <i class="fa-solid fa-newspaper"></i>
        Artikel: <span>287</span>
      </div>
    </div>

    <!-- [MAIN CONTENT] -->
    <div class="main-content">
      <!-- Judul Halaman -->
      <h2 class="page-title">
        <i class="fa-solid fa-map-marked-alt"></i>
        Peta Persebaran Paleotsunami di Indonesia
      </h2>

      <!-- Teks Penjelasan -->
      <div class="intro-text">
        <p>
          Peta sebaran daerah yang pernah terjadi tsunami di Indonesia
          menampilkan wilayah-wilayah pesisir yang telah terdampak gelombang
          tsunami akibat aktivitas gempa di dasar laut. Melalui peta ini,
          masyarakat dapat mengenali daerah rawan, meningkatkan kesiapsiagaan,
          serta membantu pemerintah dalam perencanaan mitigasi dan
          penanggulangan bencana secara lebih efektif.
        </p>
      </div>

      <!-- Wadah Peta (Map Card Wrapper) -->
      <div class="map-card">
        <!-- Elemen DIV untuk Leaflet Map -->
        <div id="map"></div>
      </div>
    </div>

    <!-- [SCRIPT] Leaflet JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>

    <script>
      // [INIT] Inisialisasi Peta Leaflet
      // Koordinat default diset ke tengah Indonesia
      var map = L.map("map").setView([-2.5, 118], 5);

      // [LAYER] Menambahkan Layer Peta Dasar (OpenStreetMap)
      L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
        maxZoom: 18,
        attribution: "&copy; OpenStreetMap contributors",
      }).addTo(map);

      // [DATA] Array Data Titik Tsunami (Contoh)
      // Format: { nama: "Nama Lokasi", lat: Latitude, lng: Longitude, tahun: "Kategori/Tahun" }
      var lokasiTsunami = [
        {
          nama: "Yogyakarta (Bantul)",
          lat: -7.95,
          lng: 110.32,
          tahun: "Prehistorical",
        },
        { nama: "Cilacap", lat: -7.72, lng: 109.02, tahun: "Historical" },
        { nama: "Pacitan", lat: -8.2, lng: 111.1, tahun: "Prehistorical" },
        { nama: "Padang", lat: -0.95, lng: 100.35, tahun: "Historical" },
        { nama: "Banda Aceh", lat: 5.55, lng: 95.32, tahun: "2004" },
        { nama: "Ambon", lat: -3.7, lng: 128.2, tahun: "Prehistorical" },
        { nama: "Manokwari", lat: -0.87, lng: 134.07, tahun: "Historical" },
      ];

      // [LOOP] Menambahkan Marker ke Peta
      lokasiTsunami.forEach(function (item) {
        // Logika Warna: Merah untuk "Prehistorical", Biru untuk lainnya (Historical/Tahun)
        var warna = item.tahun === "Prehistorical" ? "#e74c3c" : "#0088cc";

        // Membuat Circle Marker
        L.circleMarker([item.lat, item.lng], {
          radius: 8, // Ukuran lingkaran
          fillColor: warna, // Warna isi
          color: "#fff", // Warna garis pinggir (putih agar kontras)
          weight: 2, // Ketebalan garis
          opacity: 1,
          fillOpacity: 0.8, // Transparansi isi
        })
          .bindPopup(
            `
            <div style="text-align: center;">
                <b style="color: #005f99; font-size: 14px;">${item.nama}</b><br>
                <span style="font-size: 12px; color: #666;">Klasifikasi: ${item.tahun}</span>
            </div>
        `
          ) // Popup informasi saat diklik
          .addTo(map);
      });
    </script>
  </body>
</html>
